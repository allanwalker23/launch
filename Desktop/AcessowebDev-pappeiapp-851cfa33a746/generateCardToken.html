<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Generate Card Token</title>
    <script type="text/javascript" src=
    "https://stc.sandbox.pagseguro.uol.com.br/pagseguro/api/v2/checkout/pagseguro.directpayment.js"></script>
  <script>
//PagSeguroDirectPayment.setSessionId('ac6dc90f707145b7a0ef6233855a41f4')
    let card = {
      cardBin: '4111111111111111',
      cardNumber: '4111111111111111',
      brand: 'visa',
      cvv: '123',
      expirationMonth: '12',
      expirationYear: '2030'
    };

    
    PagSeguroDirectPayment.getBrand({
      cardBin: card.cardBin,
      success: response => {
        console.log('brand', response);
        createToken(response);
      },
      error: response => console.error('brand', response),
      complete: () => {}
    });

    function createToken({brand}) {
      PagSeguroDirectPayment.createCardToken({
        cardNumber: card.cardNumber,
        brand: card.brand,
        cvv: card.cvv,
        expirationMonth: card.expirationMonth,
        expirationYear: card.expirationYear,
        success: response => console.log('token', response),
        error: response => console.error('token', response),
        complete: () => {
        }
      });
    }

    PagSeguroDirectPayment.onSenderHashReady(function(response){
   console.log(response)//Hash estará disponível nesta variável.
});


  </script>
</head>
<body>

</body>
</html>
